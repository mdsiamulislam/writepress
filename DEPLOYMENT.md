# WritePress - Deployment Guide

## Deploy to Render.com

### Prerequisites

- A Render.com account
- Your code pushed to a GitHub repository

### Deployment Steps

#### Option 1: Using render.yaml (Recommended)

1. Push your code to GitHub
2. Connect your GitHub repository to Render
3. Render will automatically detect the `render.yaml` file and create:
   - A PostgreSQL database
   - A web service

#### Option 2: Manual Setup

1. **Create a PostgreSQL Database**

   - Go to Render Dashboard
   - Click "New" → "PostgreSQL"
   - Name: `writepress-db`
   - Note the connection details

2. **Create a Web Service**
   - Click "New" → "Web Service"
   - Connect your GitHub repository
   - Configuration:
     - **Build Command**: `./build.sh`
     - **Start Command**: `gunicorn writepress.wsgi:application`
     - **Environment Variables**:
       - `SECRET_KEY`: Generate a secure secret key
       - `DATABASE_URL`: Copy from your PostgreSQL database
       - `DEBUG`: `False`
       - `RENDER_EXTERNAL_HOSTNAME`: Your app's Render URL

### Environment Variables Required

- `SECRET_KEY`: Django secret key (auto-generated by Render)
- `DATABASE_URL`: PostgreSQL connection string (from Render database)
- `DEBUG`: Set to `False` for production
- `RENDER_EXTERNAL_HOSTNAME`: Your app's Render URL (optional)

### Local Development

1. Create a `.env` file based on `.env.example`
2. Set `DEBUG=True` for local development
3. Use SQLite for local database (default configuration)

### File Structure for Deployment

```
writepress/
├── build.sh              # Build script for Render
├── render.yaml           # Render configuration (optional)
├── Procfile              # Process file
├── requirements.txt      # Python dependencies
├── runtime.txt           # Python version
├── .env.example          # Environment variables template
├── manage.py
└── writepress/
    ├── settings.py       # Updated for production
    └── wsgi.py
```

### Post-Deployment

1. Your app will be available at: `https://your-app-name.onrender.com`
2. Access admin panel at: `https://your-app-name.onrender.com/admin/`
3. Create a superuser via Render shell if needed

### Troubleshooting

- Check Render logs for deployment issues
- Ensure all environment variables are set
- Verify PostgreSQL database connection
- Run `python manage.py check --deploy` locally to catch issues
